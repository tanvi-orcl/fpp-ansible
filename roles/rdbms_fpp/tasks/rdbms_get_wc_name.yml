
- set_fact:
    cluster_name: '{{ ansible_hostname | regex_findall("(.+?)-") | first }}'

# NAMING STANDARD

# - set_fact:
#     wc_name: 'wc{{ db_home_name | regex_findall("dbhome([0-9].+)") | first }}_{{ cluster_name }}'
- set_fact:
    wc_name: 'wc_{{ db_home_name }}_{{ cluster_name }}'

# changed to include
- block:
  - name: 'Check if WC Exists'
    include_role:
      name: 'fpp_common'
      tasks_from: 'wc_query.yml'
  delegate_to: '{{ fpp_host }}'